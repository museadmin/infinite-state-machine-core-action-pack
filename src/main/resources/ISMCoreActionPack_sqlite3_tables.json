{
  "artifact_id" : "infinite-state-machine-core-action-pack",
  "action_pack" : "ISMCoreActionPack",
  "tables": [
    "CREATE TABLE dependencies (\ndependency_id INTEGER NOT NULL PRIMARY KEY,\ndependency TEXT NOT NULL, -- Name of the dependency\nversion TEXT NOT NULL -- Version number of the dependency\n);",
    "CREATE TABLE properties (\nproperty TEXT NOT NULL, -- A property\nvalue TEXT -- The value of the property\n);",
    "CREATE TABLE states (\nid INTEGER NOT NULL PRIMARY KEY,\nstate BOOLEAN DEFAULT '0', -- State is set or not\nstate_name TEXT NOT NULL, -- Textual name\nnote TEXT -- Note explaining what this state is for\n);",
    "CREATE TABLE actions (\nid INTEGER NOT NULL PRIMARY KEY,\naction TEXT, -- The textual name. e.g. ActionConfirmReadyToRun\nrun_phase TEXT NOT NULL DEFAULT 'STARTUP', -- The run phase this action is valid in\npayload TEXT, -- Any payload required for action\nactive BOOLEAN NOT NULL DEFAULT '0' -- Is this action active or not?\n);",
    "CREATE TABLE messages (\nid INTEGER NOT NULL PRIMARY KEY, -- Record ID in recipient messages table\nsender TEXT NOT NULL, -- Return address of sender\nsender_id INTEGER NOT NULL, -- Record ID in sender messages table\nrecipient TEXT NOT NULL, -- Address of recipient\naction TEXT NOT NULL, -- Name of the action that handles this message\npayload TEXT, -- Json body of msg payload\nsent TEXT NOT NULL, -- Timestamp msg sent by sender\nreceived TEXT NOT NULL DEFAULT (strftime('%s', 'now')), -- Timestamp ism loaded message into database\ndirection TEXT NOT NULL DEFAULT 'inbound', -- In or outbound message\nprocessed BOOLEAN NOT NULL DEFAULT '0' -- Has the message been processed\n);",
    "CREATE TABLE phases (\nid INTEGER NOT NULL PRIMARY KEY,\nstate BOOLEAN DEFAULT '0', -- phase is active or not\nphase_name TEXT NOT NULL, -- Textual name\nnote TEXT -- Note explaining what this phase is for\n);"
  ]
}